{% extends 'retrieval/base.html' %}
{% load static %}

{% block title %}首页 - AI图像检索系统{% endblock %}

{% block content %}
<!-- 欢迎区域 -->
<div class="hero-section text-center">
    <div class="container">
        <h1 class="display-4 fw-bold mb-4">
            <i class="fas fa-brain"></i> AI图像检索系统
        </h1>
        <p class="lead mb-4">
            基于Vision Transformer (DINOv2) 的智能图像检索平台
        </p>
        <div class="row justify-content-center">
            <div class="col-lg-8">
                <p class="mb-4">
                    上传您的图片，系统将利用深度学习技术为您找到最相似的图像。
                    支持本地图库检索和在线图像搜索，提供详细的特征分析和相似度评估。
                </p>
                <a href="{% url 'retrieval:upload' %}" class="btn btn-light btn-lg btn-custom">
                    <i class="fas fa-upload"></i> 开始体验
                </a>
            </div>
        </div>
    </div>
</div>

<!-- 功能特色 -->
<div class="container">
    <div class="row">
        <div class="col-lg-4 text-center mb-5">
            <div class="feature-icon mb-3">
                <i class="fas fa-robot fa-3x text-primary"></i>
            </div>
            <h4>AI驱动的检索</h4>
            <p class="text-muted">
                基于DINOv2深度学习模型，提取768维特征向量，
                实现精准的语义级图像相似度匹配。
            </p>
        </div>
        <div class="col-lg-4 text-center mb-5">
            <div class="feature-icon mb-3">
                <i class="fas fa-images fa-3x text-success"></i>
            </div>
            <h4>本地图库检索</h4>
            <p class="text-muted">
                基于DINOv2深度学习模型，提取768维特征向量，
                在本地图库中实现精准的语义级图像相似度匹配。
            </p>
        </div>
        <div class="col-lg-4 text-center mb-5">
            <div class="feature-icon mb-3">
                <i class="fas fa-chart-line fa-3x text-warning"></i>
            </div>
            <h4>详细分析</h4>
            <p class="text-muted">
                提供特征向量可视化、相似度评分、
                处理时间等丰富的数据分析信息。
            </p>
        </div>
    </div>
</div>

<!-- 技术架构展示 -->
<div class="container mt-5">
    <div class="row">
        <div class="col-12">
            <h3 class="text-center mb-5 section-title">技术架构</h3>
        </div>
    </div>
    <div class="row">
        <div class="col-lg-6">
            <div class="card h-100">
                <div class="card-body">
                    <h5 class="card-title">
                        <i class="fas fa-cogs text-primary"></i> 核心技术
                    </h5>
                    <ul class="list-unstyled">
                        <li class="mb-2">
                            <strong>Vision Transformer (ViT):</strong> 
                            采用DINOv2预训练模型，提取高质量图像特征
                        </li>
                        <li class="mb-2">
                            <strong>NumPy实现:</strong> 
                            纯NumPy实现前向传播，无需深度学习框架依赖
                        </li>
                        <li class="mb-2">
                            <strong>余弦相似度:</strong> 
                            基于特征向量的相似度计算，确保检索准确性
                        </li>
                        <li class="mb-2">
                            <strong>Django框架:</strong> 
                            现代化的Web界面，提供友好的用户体验
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="col-lg-6">
            <div class="card h-100">
                <div class="card-body">
                    <h5 class="card-title">
                        <i class="fas fa-chart-bar text-success"></i> 性能指标
                    </h5>
                    <div class="row text-center">
                        <div class="col-6">
                            <h3 class="text-primary">768</h3>
                            <p class="text-muted">特征维度</p>
                        </div>
                        <div class="col-6">
                            <h3 class="text-success">12</h3>
                            <p class="text-muted">Transformer层数</p>
                        </div>
                        <div class="col-6">
                            <h3 class="text-warning">14</h3>
                            <p class="text-muted">Patch大小</p>
                        </div>
                        <div class="col-6">
                            <h3 class="text-info">10000+</h3>
                            <p class="text-muted">图库规模</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- 快速开始指南 -->
<div class="container mt-5">
    <div class="row">
        <div class="col-12">
            <h3 class="text-center mb-5 section-title">快速开始</h3>
        </div>
    </div>
    <div class="row">
        <div class="col-lg-4 mb-4">
            <div class="text-center">
                <div class="step-number mb-3">
                    <span class="badge bg-primary rounded-circle p-3">1</span>
                </div>
                <h5>上传图片</h5>
                <p class="text-muted">
                    点击上传按钮或直接拖拽图片到上传区域，
                    支持JPG、PNG、GIF等常见格式。
                </p>
            </div>
        </div>
        <div class="col-lg-4 mb-4">
            <div class="text-center">
                <div class="step-number mb-3">
                    <span class="badge bg-primary rounded-circle p-3">2</span>
                </div>
                <h5>AI分析</h5>
                <p class="text-muted">
                    系统自动提取图像特征，
                    在本地图库中搜索相似图像。
                </p>
            </div>
        </div>
        <div class="col-lg-4 mb-4">
            <div class="text-center">
                <div class="step-number mb-3">
                    <span class="badge bg-primary rounded-circle p-3">3</span>
                </div>
                <h5>查看结果</h5>
                <p class="text-muted">
                    获得详细的检索结果，
                    包括相似度评分、特征分析和图像来源。
                </p>
            </div>
        </div>
    </div>
    <div class="text-center mt-4">
        <a href="{% url 'retrieval:upload' %}" class="btn btn-primary btn-lg btn-custom">
            <i class="fas fa-rocket"></i> 立即开始体验
        </a>
    </div>
</div>
{% endblock %}

{% block extra_css %}
<style>
.step-number span {
    font-size: 1.5rem;
    font-weight: bold;
    width: 60px;
    height: 60px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
}

.feature-icon {
    transition: transform 0.3s ease;
}

.feature-icon:hover {
    transform: scale(1.1);
}
</style>
{% endblock %}